<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Reaproveitamento de √Ågua - Doa√ß√£o de Materiais</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #293c92 0%, #6072c1 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.2em;
        }

        .intro {
            background: #e3f2fd;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 40px;
            border-left: 5px solid #2196F3;
        }

        .intro h2 {
            color: #1976D2;
            margin-bottom: 15px;
        }

        .intro ul {
            margin-left: 20px;
            color: #555;
            line-height: 1.8;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab {
            padding: 12px 25px;
            background: #ecf0f1;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            font-weight: 600;
        }

        .tab:hover {
            background: #bdc3c7;
            transform: translateY(-2px);
        }

        .tab.active {
            background: linear-gradient(135deg, #3046a9 0%, #676ac9 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .content {
            display: none;
        }

        .content.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step {
            background: #f8f9fa;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            transition: transform 0.3s;
        }

        .step:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .step-number {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            margin-right: 15px;
            font-size: 18px;
        }

        .step h3 {
            display: inline-block;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .step p {
            margin-top: 15px;
            color: #555;
            line-height: 1.7;
            margin-left: 55px;
        }

        .materials-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .material-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
        }

        .material-item:hover {
            border-color: #667eea;
            transform: scale(1.02);
        }

        .material-item strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }

        .warning {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .warning h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .warning ul {
            margin-left: 20px;
            color: #856404;
            line-height: 1.8;
        }

        .tip {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .tip h3 {
            color: #155724;
            margin-bottom: 10px;
        }

        .tip ul {
            margin-left: 20px;
            color: #155724;
            line-height: 1.8;
        }

        .diagram {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            border: 3px dashed #667eea;
        }

        .diagram-text {
            font-family: monospace;
            font-size: 14px;
            line-height: 1.8;
            color: #2c3e50;
            text-align: left;
            display: inline-block;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        /* Estilos para a se√ß√£o de dados da crise h√≠drica */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px 15px;
            text-align: left;
        }

        th {
            background-color: #0066cc;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .highlight {
            background-color: #fffacd;
            font-weight: bold;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .section-title {
            background-color: #e6f2ff;
            font-weight: bold;
        }

        .source {
            font-size: 0.9em;
            color: #666;
            margin-top: 30px;
            font-style: italic;
        }

        /* Estilos para o formul√°rio de cadastro */
        .form-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .form-title {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #667eea;
            outline: none;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .btn {
            background: linear-gradient(135deg, #3046a9 0%, #676ac9 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 0 auto;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        /* Estilos para a lista de doa√ß√µes */
        .donations-list {
            margin-top: 30px;
        }

        .donation-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-left: 5px solid #28a745;
        }

        .donation-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .donation-name {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.2em;
        }

        .donation-date {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .donation-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 10px;
        }

        .donation-material {
            background: #e3f2fd;
            padding: 8px 12px;
            border-radius: 5px;
            font-weight: 600;
        }

        .donation-quantity {
            background: #e8f5e9;
            padding: 8px 12px;
            border-radius: 5px;
        }

        .donation-status {
            background: #fff3cd;
            padding: 8px 12px;
            border-radius: 5px;
            display: inline-block;
            font-weight: 600;
        }

        .donation-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 8px 15px;
            font-size: 14px;
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #e83e8c 100%);
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
        }

        .empty-state i {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }

        /* Estilos para a se√ß√£o de materiais selecionados */
        .selected-materials {
            margin: 20px 0;
        }

        .material-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .material-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .material-name {
            font-weight: bold;
            color: #2c3e50;
        }

        .remove-material {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-weight: bold;
        }

        .material-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .add-material-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .add-material-btn:hover {
            background: #218838;
        }

        .no-materials {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
            border: 2px dashed #e0e0e0;
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .materials-list {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .donation-header {
                flex-direction: column;
            }
            
            .donation-details {
                grid-template-columns: 1fr;
            }
            
            .material-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üíß Sistema de Reaproveitamento de √Ågua</h1>
        <p class="subtitle">Guia completo para economia e sustentabilidade</p>

        <div class="intro">
            <h2>O que √© e por que fazer?</h2>
            <p style="margin-bottom: 15px;">Este sistema permite reaproveitar √°gua de chuveiros, m√°quinas de lavar e pias para limpeza de pisos e irriga√ß√£o de plantas, gerando:</p>
            <ul>
                <li><strong>Economia</strong>: Redu√ß√£o de at√© 40% na conta de √°gua</li>
                <li><strong>Sustentabilidade</strong>: Menor consumo de √°gua pot√°vel</li>
                <li><strong>Simplicidade</strong>: Sistema f√°cil de montar e manter</li>
            </ul>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showContent('materiais')">üì¶ Materiais</button>
            <button class="tab" onclick="showContent('montagem')">üîß Montagem</button>
            <button class="tab" onclick="showContent('uso')">üí° Como Usar</button>
            <button class="tab" onclick="showContent('manutencao')">üõ†Ô∏è Manuten√ß√£o</button>
            <button class="tab" onclick="showContent('dicas')">‚≠ê Dicas</button>
            <button class="tab" onclick="showContent('crise')">üìä Crise H√≠drica</button>
            <button class="tab" onclick="showContent('doacao')">ü§ù Doar Materiais</button>
            <button class="tab" onclick="showContent('doacoes')">üìã Doa√ß√µes Recebidas</button>
            <button class="tab" onclick="showContent('doadores')">üìã Registro de Doadores</button>
        </div>

        <div id="materiais" class="content active">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">Materiais Necess√°rios</h2>
            
            <div class="materials-list">
                <div class="material-item">
                    <strong>Recipiente de armazenamento</strong>
                    Balde, tambor ou caixa d'√°gua (50-200 litros)
                </div>
                <div class="material-item">
                    <strong>Tela de filtragem</strong>
                    Tela fina ou filtro de tecido (tipo voal)
                </div>
                <div class="material-item">
                    <strong>Mangueira</strong>
                    3-5 metros (para coleta e sa√≠da)
                </div>
                <div class="material-item">
                    <strong>Torneira ou registro</strong>
                    Para controlar a sa√≠da de √°gua
                </div>
                <div class="material-item">
                    <strong>Abra√ßadeiras</strong>
                    Para fixar mangueiras
                </div>
                <div class="material-item">
                    <strong>Suporte/base</strong>
                    Para elevar o recipiente (opcional)
                </div>
            </div>

            <div class="tip">
                <h3>üí∞ Custo Estimado</h3>
                <ul>
                    <li>Sistema b√°sico: R$ 50-100</li>
                    <li>Sistema intermedi√°rio: R$ 100-200</li>
                    <li>Sistema avan√ßado: R$ 200-500</li>
                </ul>
            </div>
        </div>

        <div id="montagem" class="content">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">Passo a Passo da Montagem</h2>

            <div class="step">
                <span class="step-number">1</span>
                <h3>Escolha do Local</h3>
                <p>Selecione um local pr√≥ximo √† fonte de √°gua (chuveiro, m√°quina de lavar ou pia) e perto das √°reas onde a √°gua ser√° usada. O local deve ser protegido do sol direto e ter boa ventila√ß√£o.</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <h3>Prepara√ß√£o do Recipiente</h3>
                <p>Lave bem o recipiente com √°gua e sab√£o. Fa√ßa um furo pr√≥ximo ao fundo (5-10cm da base) para instalar a torneira ou registro. Se for usar tampa, fa√ßa um furo na parte superior para entrada da mangueira.</p>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <h3>Instala√ß√£o da Torneira</h3>
                <p>Instale a torneira no furo inferior usando vedante ou borracha de veda√ß√£o. Aperte bem para evitar vazamentos. Teste a veda√ß√£o enchendo com √°gua.</p>
            </div>

            <div class="step">
                <span class="step-number">4</span>
                <h3>Sistema de Filtragem</h3>
                <p>Coloque uma tela fina ou tecido (voal) na entrada do recipiente para filtrar sujeiras grosseiras como cabelos, folhas e res√≠duos maiores. Fixe com el√°stico ou abra√ßadeira.</p>
            </div>

            <div class="step">
                <span class="step-number">5</span>
                <h3>Conex√£o da Mangueira de Entrada</h3>
                <p>Conecte a mangueira da fonte de √°gua (sa√≠da do chuveiro, m√°quina de lavar ou pia) at√© o recipiente. Passe a mangueira pelo filtro. Use abra√ßadeiras para fixar bem.</p>
            </div>

            <div class="step">
                <span class="step-number">6</span>
                <h3>Eleva√ß√£o do Recipiente (Opcional)</h3>
                <p>Se poss√≠vel, coloque o recipiente sobre uma base elevada (blocos, suporte). Isso facilita o uso por gravidade e melhora o fluxo de √°gua na sa√≠da.</p>
            </div>

            <div class="diagram">
                <h3 style="margin-bottom: 20px; color: #667eea;">Diagrama do Sistema</h3>
                <pre class="diagram-text">
    [FONTE DE √ÅGUA]
    (Chuveiro/M√°quina)
           |
           | Mangueira
           ‚Üì
      [FILTRO] ‚Üê Tela/Tecido
           |
           ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ             ‚îÇ
    ‚îÇ RECIPIENTE  ‚îÇ ‚Üê Tampa (opcional)
    ‚îÇ DE COLETA   ‚îÇ
    ‚îÇ             ‚îÇ
    ‚îÇ             ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           |
      [TORNEIRA] ‚Üê 5-10cm do fundo
           |
           ‚Üì
    [USO: Limpeza/Irriga√ß√£o]
                </pre>
            </div>
        </div>

        <div id="uso" class="content">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">Como Usar o Sistema</h2>

            <div class="step">
                <span class="step-number">1</span>
                <h3>Coleta de √Ågua Cinza</h3>
                <p><strong>√Åguas aproveit√°veis:</strong> √°gua do banho (enquanto esquenta), √°gua do enx√°gue da m√°quina de lavar, √°gua de lavagem de legumes e frutas.</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <h3>Para Limpeza de Pisos</h3>
                <p>Use baldes para pegar a √°gua pela torneira. Misture com produtos de limpeza normalmente. Ideal para quintais, garagens, cal√ßadas e √°reas externas.</p>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <h3>Para Irriga√ß√£o de Plantas</h3>
                <p>Use regadores ou conecte mangueira na torneira. Irrigue de prefer√™ncia no in√≠cio da manh√£ ou final da tarde. Evite molhar as folhas diretamente.</p>
            </div>

            <div class="warning">
                <h3>‚ö†Ô∏è √Åguas que N√ÉO devem ser aproveitadas:</h3>
                <ul>
                    <li>√Ågua com fezes (vaso sanit√°rio)</li>
                    <li>√Ågua com produtos qu√≠micos pesados</li>
                    <li>√Ågua com alvejante ou √°gua sanit√°ria em grande quantidade</li>
                    <li>√Ågua com √≥leo ou gordura</li>
                </ul>
            </div>

            <div class="warning">
                <h3>‚ö†Ô∏è Restri√ß√µes de Uso:</h3>
                <ul>
                    <li><strong>N√ÉO use</strong> para beber, cozinhar ou lavar lou√ßas</li>
                    <li><strong>N√ÉO use</strong> em hortas de alimentos que ser√£o consumidos crus</li>
                    <li><strong>N√ÉO use</strong> para higiene pessoal</li>
                    <li><strong>Use dentro de 24h</strong> para evitar prolifera√ß√£o de bact√©rias</li>
                </ul>
            </div>
        </div>

        <div id="manutencao" class="content">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">Manuten√ß√£o do Sistema</h2>

            <div class="step">
                <span class="step-number">1</span>
                <h3>Limpeza Semanal</h3>
                <p>Limpe o filtro removendo cabelos, folhas e sujeiras. Lave com √°gua corrente. Se usar tecido, lave com sab√£o e deixe secar ao sol.</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <h3>Limpeza Mensal</h3>
                <p>Esvazie completamente o recipiente. Lave o interior com escova, √°gua e sab√£o neutro. Enx√°gue bem. Verifique veda√ß√µes e apertos.</p>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <h3>Verifica√ß√µes</h3>
                <p>Confira mangueiras quanto a furos ou rachaduras. Teste a torneira para vazamentos. Observe se h√° mau cheiro (indicando necessidade de limpeza).</p>
            </div>

            <div class="tip">
                <h3>üåü Dica Importante</h3>
                <ul>
                    <li>Adicione algumas gotas de vinagre na √°gua armazenada para evitar mau cheiro</li>
                    <li>Mantenha o recipiente sempre tampado para evitar mosquitos</li>
                    <li>N√£o deixe √°gua parada por mais de 2-3 dias</li>
                </ul>
            </div>
        </div>

        <div id="dicas" class="content">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">Dicas e Otimiza√ß√µes</h2>

            <div class="tip">
                <h3>üí° Maximize a Economia</h3>
                <ul>
                    <li>Coloque um balde no chuveiro enquanto a √°gua esquenta</li>
                    <li>Use √°gua do enx√°gue da m√°quina (mais limpa)</li>
                    <li>Reaproveite √°gua de lavagem de vegetais</li>
                    <li>Instale m√∫ltiplos pontos de coleta</li>
                </ul>
            </div>

            <div class="tip">
                <h3>üå± Para Irriga√ß√£o Inteligente</h3>
                <ul>
                    <li>Use √°gua com sab√£o biodegrad√°vel (n√£o faz mal √†s plantas)</li>
                    <li>Evite √°gua muito quente ou com muito sab√£o</li>
                    <li>Irrigue √°rvores, gramados e plantas ornamentais</li>
                    <li>Crie um sistema de gotejamento com mangueira furada</li>
                </ul>
            </div>

            <div class="tip">
                <h3>‚ö° Melhorias Avan√ßadas</h3>
                <ul>
                    <li><strong>Sistema multi-est√°gio:</strong> Use 2 recipientes - primeiro para decantar, segundo para uso</li>
                    <li><strong>Filtro de areia:</strong> Adicione camadas de areia, brita e carv√£o para melhor filtragem</li>
                    <li><strong>Bomba manual:</strong> Instale bomba para maior press√£o</li>
                    <li><strong>Capta√ß√£o de chuva:</strong> Combine com calhas para captar √°gua de chuva</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">üìä</span>
                <h3>Economia Estimada</h3>
                <p>Uma fam√≠lia de 4 pessoas pode economizar cerca de 80-120 litros de √°gua por dia (2.400-3.600 litros/m√™s) com este sistema, resultando em economia de 15-30% na conta de √°gua!</p>
            </div>
        </div>

        <div id="crise" class="content">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">Crise H√≠drica no Brasil: Dados e Tend√™ncias (2024-2025)</h2>
            
            <table>
                <tr class="section-title">
                    <td colspan="2">Consumo de √Ågua no Brasil (Dados e Tend√™ncias 2024-2025)</td>
                </tr>
                <tr>
                    <th>Indicador</th>
                    <th>Dados/Informa√ß√µes</th>
                </tr>
                <tr>
                    <td>Consumo por Setor</td>
                    <td>
                        <ul>
                            <li>Agricultura (irriga√ß√£o): 49,8% a 50,5% da retirada total de √°gua</li>
                            <li>Abastecimento urbano: 24,3%</li>
                            <li>Ind√∫stria: 9,7%</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>Acesso √† √Ågua</td>
                    <td>Cerca de 33 milh√µes de brasileiros ainda n√£o t√™m acesso √† √°gua pot√°vel</td>
                </tr>
                <tr>
                    <td>Tend√™ncias de Consumo</td>
                    <td>Proje√ß√£o da ANA: consumo de √°gua no Brasil deve crescer 24% at√© 2030</td>
                </tr>
                <tr>
                    <td>Metas de Efici√™ncia</td>
                    <td>Institui√ß√µes como o STF estabeleceram metas para reduzir o consumo m√©dio anual em 3% at√© 2025</td>
                </tr>
                
                <tr class="section-title">
                    <td colspan="2">Impactos do Desperd√≠cio</td>
                </tr>
                <tr>
                    <th>Indicador</th>
                    <th>Dados/Informa√ß√µes</th>
                </tr>
                <tr>
                    <td>√çndices de Perda (2022)</td>
                    <td>
                        <ul>
                            <li>Brasil: 37,8% (queda em rela√ß√£o aos 40,3% de 2021)</li>
                            <li>Pa√≠ses desenvolvidos (m√©dia): 15%</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>Volume Desperdi√ßado</td>
                    <td>√Ågua pot√°vel perdida anualmente poderia abastecer mais de 54 milh√µes de habitantes por ano</td>
                </tr>
                <tr>
                    <td>Principais Causas do Desperd√≠cio</td>
                    <td>Vazamentos f√≠sicos, fraudes e erros de medi√ß√£o</td>
                </tr>
                
                <tr class="section-title">
                    <td colspan="2">Consequ√™ncias da Crise H√≠drica</td>
                </tr>
                <tr>
                    <th>Indicador</th>
                    <th>Dados/Informa√ß√µes</th>
                </tr>
                <tr>
                    <td>Escassez e Racionamento</td>
                    <td>
                        <ul>
                            <li>Previs√£o: Brasil poder√° enfrentar, em m√©dia, 12 dias de racionamento de √°gua por ano at√© 2050</li>
                            <li>Regi√µes mais afetadas: Nordeste e Centro-Oeste (mais de 30 dias de racionamento)</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>Eventos Clim√°ticos Extremos</td>
                    <td>Relat√≥rios da ONU (2024) indicam secas prolongadas na Amaz√¥nia e enchentes no Sul do Brasil</td>
                </tr>
                <tr>
                    <td>Impacto na Sa√∫de (2024)</td>
                    <td>Mais de 344 mil interna√ß√µes por doen√ßas relacionadas √† falta de saneamento b√°sico adequado</td>
                </tr>
            </table>
            
            <p class="highlight">O cen√°rio aponta para a urg√™ncia de investimentos em infraestrutura e na gest√£o mais eficiente dos recursos h√≠dricos para mitigar os impactos futuros.</p>
            
            <div class="source">
                Fontes: Sistema Nacional de Informa√ß√µes sobre Saneamento (SNIS), Ag√™ncia Nacional de √Åguas e Saneamento B√°sico (ANA), Relat√≥rios da ONU (2024)
            </div>
        </div>

<div id="doacao" class="content">
    <h2 style="color: #2c3e50; margin-bottom: 20px;">Cadastro para Doa√ß√£o de Materiais</h2>
    
    <div class="form-container">
        <h3 class="form-title">Informe os materiais que voc√™ pode doar</h3>
        
        <form id="donationForm">
            <div class="form-row">
                <div class="form-group">
                    <label for="name">Nome Completo *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">E-mail *</label>
                    <input type="email" id="email" name="email" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="phone">Telefone *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="city">Cidade *</label>
                    <input type="text" id="city" name="city" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="address">Endere√ßo (opcional)</label>
                <input type="text" id="address" name="address">
            </div>
            
            <div class="form-group">
                <label>Materiais para Doa√ß√£o *</label>
                <div class="selected-materials" id="selectedMaterials">
                    <div class="no-materials" id="noMaterialsMessage">
                        Nenhum material selecionado. Clique em "Adicionar Material" para come√ßar.
                    </div>
                </div>
                <button type="button" class="add-material-btn" onclick="addMaterial()">
                    <span>+</span> Adicionar Material
                </button>
            </div>
            
            <div class="form-group">
                <label for="notes">Observa√ß√µes</label>
                <textarea id="notes" name="notes" rows="3" placeholder="Informa√ß√µes adicionais sobre os materiais, disponibilidade para entrega, etc."></textarea>
            </div>
            
            <button type="submit" class="btn">Cadastrar Doa√ß√£o</button>
        </form>
    </div>
</div>

        <div id="doacoes" class="content">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">Doa√ß√µes Recebidas</h2>
            
            <div class="donations-list" id="donationsList">
                <!-- As doa√ß√µes ser√£o carregadas aqui via JavaScript -->
            </div>
        </div>
    </div>
        <div id="doadores" class="content">
            <h2 style="color: #2c3e50; margin-bottom: 20px;">üìã Registro Completo de Doadores</h2>
            <p style="margin-bottom: 20px; color: #666;">Aqui voc√™ v√™ todas as doa√ß√µes j√° realizadas, incluindo as aprovadas.</p>
    
        <div class="stats-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
        <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; text-align: center;">
            <div style="font-size: 1.5em; font-weight: bold; color: #1976d2;">0</div>
            <div>Total de Doa√ß√µes</div>
        </div>
        <div style="background: #fff3cd; padding: 15px; border-radius: 10px; text-align: center;">
            <div style="font-size: 1.5em; font-weight: bold; color: #856404;">0</div>
            <div>Pendentes</div>
        </div>
        <div style="background: #d4edda; padding: 15px; border-radius: 10px; text-align: center;">
            <div style="font-size: 1.5em; font-weight: bold; color: #155724;">0</div>
            <div>Aprovadas</div>
        </div>
        <div style="background: #f8d7da; padding: 15px; border-radius: 10px; text-align: center;">
            <div style="font-size: 1.5em; font-weight: bold; color: #721c24;">0</div>
            <div>An√¥nimas</div>
        </div>
    </div>
    
    <div class="donors-list" id="donorsList">
        <!-- O registro de doadores ser√° carregado aqui -->
    </div>
</div>
    <!-- Template para o formul√°rio de material -->
    <template id="materialTemplate">
        <div class="material-card">
            <div class="material-card-header">
                <div class="material-name">Material #<span class="material-index">1</span></div>
                <button type="button" class="remove-material" onclick="removeMaterial(this)">√ó</button>
            </div>
            <div class="material-details">
                <div class="form-group">
                    <label>Material *</label>
                    <select name="materials[]" required>
                        <option value="">Selecione um material</option>
                        <option value="Balde/tambor">Balde ou tambor (50-200 litros)</option>
                        <option value="Tela de filtragem">Tela de filtragem (tipo voal)</option>
                        <option value="Mangueira">Mangueira (3-5 metros)</option>
                        <option value="Torneira/registro">Torneira ou registro</option>
                        <option value="Abra√ßadeiras">Abra√ßadeiras</option>
                        <option value="Suporte/base">Suporte ou base para elevar recipiente</option>
                        <option value="Caixa d'√°gua">Caixa d'√°gua</option>
                        <option value="Outro">Outro (especifique nas observa√ß√µes)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Quantidade *</label>
                    <input type="number" name="quantities[]" min="1" required>
                </div>
                <div class="form-group">
                    <label>Condi√ß√£o *</label>
                    <select name="conditions[]" required>
                        <option value="">Selecione a condi√ß√£o</option>
                        <option value="Novo">Novo</option>
                        <option value="Usado - bom estado">Usado - bom estado</option>
                        <option value="Usado - precisa de reparo">Usado - precisa de reparo</option>
                    </select>
                </div>
            </div>
        </div>
    </template>

<script>
    const API_BASE = 'http://localhost:5000/api';

    // Fun√ß√£o para alternar entre as abas
    function showContent(id) {
        // Esconde todos os conte√∫dos
        const contents = document.querySelectorAll('.content');
        contents.forEach(content => {
            content.classList.remove('active');
        });

        // Remove active de todas as tabs
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => {
            tab.classList.remove('active');
        });

        // Mostra o conte√∫do selecionado
        document.getElementById(id).classList.add('active');

        // Marca a tab como ativa
        event.target.classList.add('active');

        // Carrega o conte√∫do espec√≠fico de cada aba
        if (id === 'doacoes') {
            loadActiveDonations();
        } else if (id === 'doadores') {
            loadAllDonors();
            loadStats();
        }
    }

    // Gerenciamento de materiais no formul√°rio
    let materialCount = 0;

    function addMaterial() {
        const template = document.getElementById('materialTemplate');
        const clone = template.content.cloneNode(true);
        const materialCard = clone.querySelector('.material-card');
        
        materialCount++;
        materialCard.querySelector('.material-index').textContent = materialCount;
        
        const selectedMaterials = document.getElementById('selectedMaterials');
        const noMaterialsMessage = document.getElementById('noMaterialsMessage');
        
        if (noMaterialsMessage) {
            noMaterialsMessage.style.display = 'none';
        }
        
        selectedMaterials.appendChild(materialCard);
    }

    function removeMaterial(button) {
        const materialCard = button.closest('.material-card');
        materialCard.remove();
        
        materialCount--;
        
        // Atualizar √≠ndices
        const materialCards = document.querySelectorAll('.material-card');
        if (materialCards.length === 0) {
            document.getElementById('noMaterialsMessage').style.display = 'block';
        } else {
            materialCards.forEach((card, index) => {
                card.querySelector('.material-index').textContent = index + 1;
            });
        }
    }

    // Fun√ß√µes para comunica√ß√£o com a API

    // Carrega apenas doa√ß√µes ativas (n√£o aprovadas)
    async function loadActiveDonations() {
        try {
            const response = await fetch(`${API_BASE}/donations/active`);
            const donations = await response.json();
            displayDonations(donations);
        } catch (error) {
            console.error('Erro ao carregar doa√ß√µes:', error);
            document.getElementById('donationsList').innerHTML = `
                <div class="empty-state">
                    <i>‚ùå</i>
                    <h3>Erro ao carregar doa√ß√µes</h3>
                    <p>Tente recarregar a p√°gina.</p>
                </div>
            `;
        }
    }

    // Carrega TODOS os doadores (registro completo)
    async function loadAllDonors() {
        try {
            const response = await fetch(`${API_BASE}/donors`);
            const donors = await response.json();
            displayDonors(donors);
        } catch (error) {
            console.error('Erro ao carregar doadores:', error);
            document.getElementById('donorsList').innerHTML = `
                <div class="empty-state">
                    <i>‚ùå</i>
                    <h3>Erro ao carregar registro de doadores</h3>
                    <p>Tente recarregar a p√°gina.</p>
                </div>
            `;
        }
    }

    // Carrega estat√≠sticas
    async function loadStats() {
        try {
            const response = await fetch(`${API_BASE}/stats`);
            const stats = await response.json();
            
            document.querySelector('.stats-container').innerHTML = `
                <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 1.5em; font-weight: bold; color: #1976d2;">${stats.total}</div>
                    <div>Total de Doa√ß√µes</div>
                </div>
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 1.5em; font-weight: bold; color: #856404;">${stats.pending}</div>
                    <div>Pendentes</div>
                </div>
                <div style="background: #d4edda; padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 1.5em; font-weight: bold; color: #155724;">${stats.approved}</div>
                    <div>Aprovadas</div>
                </div>
                <div style="background: #e8f4fd; padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 1.5em; font-weight: bold; color: #1e88e5;">${stats.in_analysis}</div>
                    <div>Em An√°lise</div>
                </div>
            `;
        } catch (error) {
            console.error('Erro ao carregar estat√≠sticas:', error);
        }
    }

    function displayDonations(donations) {
        const donationsList = document.getElementById('donationsList');
        
        if (donations.length === 0) {
            donationsList.innerHTML = `
                <div class="empty-state">
                    <i>üì¶</i>
                    <h3>Nenhuma doa√ß√£o pendente</h3>
                    <p>Todas as doa√ß√µes foram aprovadas ou est√£o em an√°lise.</p>
                </div>
            `;
            return;
        }
        
        donationsList.innerHTML = '';
        
        donations.forEach(donation => {
            const donationElement = document.createElement('div');
            donationElement.className = 'donation-item';
            
            // Construir lista de materiais
            let materialsHtml = '';
            if (donation.materials && donation.materials.length > 0) {
                donation.materials.forEach((material, index) => {
                    materialsHtml += `
                        <div class="material-card" style="margin-bottom: 10px;">
                            <div class="material-name">${material}</div>
                            <div class="material-details">
                                <div class="donation-quantity">Quantidade: ${donation.quantities[index]}</div>
                                <div class="donation-quantity">Condi√ß√£o: ${donation.conditions[index]}</div>
                            </div>
                        </div>
                    `;
                });
            }
            
            donationElement.innerHTML = `
                <div class="donation-header">
                    <div class="donation-name">${donation.name}</div>
                    <div class="donation-date">${donation.date}</div>
                </div>
                <div>
                    <strong>Contato:</strong> ${donation.email} | ${donation.phone}
                </div>
                <div>
                    <strong>Cidade:</strong> ${donation.city} ${donation.address ? `| ${donation.address}` : ''}
                </div>
                <div style="margin-top: 15px;">
                    <strong>Materiais doados:</strong>
                    ${materialsHtml}
                </div>
                ${donation.notes ? `<div style="margin-top: 10px;"><strong>Observa√ß√µes:</strong> ${donation.notes}</div>` : ''}
                <div class="donation-actions">
                    <span class="donation-status">Status: ${donation.status}</span>
                    <button class="btn btn-small btn-success" onclick="updateDonationStatus(${donation.id}, 'Aprovada')">Aprovar</button>
                    <button class="btn btn-small" onclick="updateDonationStatus(${donation.id}, 'Em an√°lise')">Em An√°lise</button>
                    <button class="btn btn-small btn-danger" onclick="deleteDonation(${donation.id})">Excluir</button>
                </div>
            `;
            donationsList.appendChild(donationElement);
        });
    }

    function displayDonors(donors) {
        const donorsList = document.getElementById('donorsList');
        
        if (donors.length === 0) {
            donorsList.innerHTML = `
                <div class="empty-state">
                    <i>üì¶</i>
                    <h3>Nenhuma doa√ß√£o registrada</h3>
                    <p>As doa√ß√µes aparecer√£o aqui quando forem cadastradas.</p>
                </div>
            `;
            return;
        }
        
        donorsList.innerHTML = '';
        
        // Ordenar por data (mais recente primeiro)
        donors.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
        
        donors.forEach(donor => {
            const donorElement = document.createElement('div');
            donorElement.className = 'donation-item';
            
            // Cor da borda baseada no status
            if (donor.status === 'Aprovada') {
                donorElement.style.borderLeftColor = '#28a745';
            } else if (donor.status === 'Em an√°lise') {
                donorElement.style.borderLeftColor = '#ffc107';
            } else {
                donorElement.style.borderLeftColor = '#dc3545';
            }
            
            // Construir lista de materiais
            let materialsHtml = '';
            if (donor.materials && donor.materials.length > 0) {
                donor.materials.forEach((material, index) => {
                    materialsHtml += `
                        <div class="material-card" style="margin-bottom: 10px;">
                            <div class="material-name">${material}</div>
                            <div class="material-details">
                                <div class="donation-quantity">Quantidade: ${donor.quantities[index]}</div>
                                <div class="donation-quantity">Condi√ß√£o: ${donor.conditions[index]}</div>
                            </div>
                        </div>
                    `;
                });
            }
            
            donorElement.innerHTML = `
                <div class="donation-header">
                    <div class="donation-name">${donor.name}</div>
                    <div class="donation-date">${donor.date}</div>
                </div>
                <div>
                    <strong>Status:</strong> 
                    <span style="padding: 2px 8px; border-radius: 12px; font-size: 0.8em; 
                        ${donor.status === 'Aprovada' ? 'background: #d4edda; color: #155724;' : 
                          donor.status === 'Em an√°lise' ? 'background: #fff3cd; color: #856404;' : 
                          'background: #f8d7da; color: #721c24;'}">
                        ${donor.status}
                    </span>
                </div>
                <div>
                    <strong>Contato:</strong> ${donor.email} | ${donor.phone}
                </div>
                <div>
                    <strong>Cidade:</strong> ${donor.city} ${donor.address ? `| ${donor.address}` : ''}
                </div>
                <div style="margin-top: 15px;">
                    <strong>Materiais doados:</strong>
                    ${materialsHtml}
                </div>
                ${donor.notes ? `<div style="margin-top: 10px;"><strong>Observa√ß√µes:</strong> ${donor.notes}</div>` : ''}
            `;
            donorsList.appendChild(donorElement);
        });
    }

    async function updateDonationStatus(donationId, status) {
        try {
            const response = await fetch(`${API_BASE}/donations/${donationId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ status: status })
            });
            
            if (response.ok) {
                // Recarrega as doa√ß√µes ativas (a aprovada some da lista)
                loadActiveDonations();
                // Atualiza o registro completo e estat√≠sticas
                loadAllDonors();
                loadStats();
            } else {
                alert('Erro ao atualizar status da doa√ß√£o');
            }
        } catch (error) {
            console.error('Erro:', error);
            alert('Erro ao atualizar status da doa√ß√£o');
        }
    }

    async function deleteDonation(donationId) {
        if (confirm('Tem certeza que deseja excluir esta doa√ß√£o?')) {
            try {
                const response = await fetch(`${API_BASE}/donations/${donationId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    loadActiveDonations();
                    loadAllDonors();
                    loadStats();
                } else {
                    alert('Erro ao excluir doa√ß√£o');
                }
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao excluir doa√ß√£o');
            }
        }
    }

    // Manipular envio do formul√°rio - VERS√ÉO CORRIGIDA
    document.getElementById('donationForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Verificar se h√° materiais selecionados
        const materialCards = document.querySelectorAll('.material-card');
        if (materialCards.length === 0) {
            alert('Por favor, adicione pelo menos um material para doa√ß√£o.');
            return;
        }
        
        // Coletar dados dos materiais CORRETAMENTE
        const materials = [];
        const quantities = [];
        const conditions = [];
        
        materialCards.forEach(card => {
            const materialSelect = card.querySelector('select[name="materials[]"]');
            const quantityInput = card.querySelector('input[name="quantities[]"]');
            const conditionSelect = card.querySelector('select[name="conditions[]"]');
            
            if (materialSelect && quantityInput && conditionSelect) {
                materials.push(materialSelect.value);
                quantities.push(quantityInput.value);
                conditions.push(conditionSelect.value);
            }
        });
        
        // Verificar se todos os campos obrigat√≥rios est√£o preenchidos
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const phone = document.getElementById('phone').value;
        const city = document.getElementById('city').value;
        
        if (!name || !email || !phone || !city) {
            alert('Por favor, preencha todos os campos obrigat√≥rios.');
            return;
        }
        
        const donationData = {
            name: name,
            email: email,
            phone: phone,
            city: city,
            address: document.getElementById('address').value,
            notes: document.getElementById('notes').value,
            materials: materials,
            quantities: quantities,
            conditions: conditions
        };
        
        console.log("Enviando dados:", donationData); // Para debug
        
        try {
            const response = await fetch(`${API_BASE}/donations`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(donationData)
            });
            
            const result = await response.json();
            console.log("Resposta do servidor:", result); // Para debug
            
            if (result.success) {
                // Limpar formul√°rio
                this.reset();
                
                // Limpar materiais selecionados
                const selectedMaterials = document.getElementById('selectedMaterials');
                selectedMaterials.innerHTML = '<div class="no-materials" id="noMaterialsMessage">Nenhum material selecionado. Clique em "Adicionar Material" para come√ßar.</div>';
                materialCount = 0;
                
                // Mostrar mensagem de sucesso
                alert('Doa√ß√£o cadastrada com sucesso! ID: ' + result.id);
                
                // Atualizar todas as listas
                loadActiveDonations();
                loadAllDonors();
                loadStats();
                
                // Ir para a aba de doa√ß√µes ativas
                showContent('doacoes');
            } else {
                alert('Erro ao cadastrar doa√ß√£o: ' + (result.error || 'Erro desconhecido'));
            }
        } catch (error) {
            console.error('Erro:', error);
            alert('Erro ao cadastrar doa√ß√£o. Verifique se o servidor est√° rodando em http://localhost:5000');
        }
    });

    // Inicializar a p√°gina
    document.addEventListener('DOMContentLoaded', function() {
        // Carregar conte√∫do baseado na aba ativa
        if (document.getElementById('doacoes').classList.contains('active')) {
            loadActiveDonations();
        } else if (document.getElementById('doadores').classList.contains('active')) {
            loadAllDonors();
            loadStats();
        }
    });
</script>
</body>
</html>